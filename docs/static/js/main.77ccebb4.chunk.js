(this["webpackJsonptest-saac"]=this["webpackJsonptest-saac"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(8),s=n.n(a),r=n(2),i=n(14),l=n.n(i),o=n(15),d=function(e){var t=e.length,n=0;return e.forEach((function(e){return n+=e.complete})),Math.round(100*n/(100*t),2)},j="[Data] Load",b="[Data] Delete Key Result ",u="[Data] Set Porcentaje General ",m="[Data] Set Active Key Result ",h="[Data] Clean Active Key Result ",O="[Data] Update Key Entry",p=function(e){return{type:j,payload:e}},f=function(e){return{type:u,payload:e}},x=function(){return function(){var e=Object(o.a)(l.a.mark((function e(t,n){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().data.keyresults,e.next=3,d(c);case 3:a=e.sent,t(f(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},v=function(e){return{type:b,payload:e}},g=function(e){return{type:O,payload:e}},N=function(e){return{type:m,payload:e}},y=function(){return function(e){e(k())}},k=function(){return{type:h}},w=n(5),E=n(4),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.b)(),n=Object(c.useState)(e),a=Object(E.a)(n,2),s=a[0],i=a[1],l=function(){return i(!0)},o=function(){return t(y()),i(!1)};return[s,l,o]},C=n(0),D=function(e){var t=e.id,n=e.handleDelete,c=e.handleEdit;return Object(C.jsxs)("div",{className:"d-flex flex-row bd-highlight ",children:[Object(C.jsx)("div",{className:" p-1 bd-highlight",children:Object(C.jsx)("button",{onClick:function(){return c(t)},className:"small btn bi bi-pencil-square"})}),Object(C.jsx)("div",{className:" p-1 bd-highlight",children:Object(C.jsx)("button",{onClick:function(){n(t)},className:"small btn bi bi-journal-x"})})]})},M=function(e){var t=e.avance,n=function(e){var t=Object(c.useState)(""),n=Object(E.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s(e<25?"bg-danger":e>=25&&e<50?"bg-warning":e>=50&&e<75||e>=75?"bg-info":"")}),[e]),{progress:a}}(t),a=n.progress;return Object(C.jsxs)("div",{className:"d-flex bd-highlight",children:[Object(C.jsx)("div",{className:"p-2 w-100 bd-highlight mt-2",children:Object(C.jsx)("div",{className:"progress",children:Object(C.jsx)("div",{className:"progress-bar progress-bar-striped ".concat(a),role:"progressbar",style:{width:"".concat(t,"%")},children:"".concat(t,"%")})})}),Object(C.jsx)("div",{className:"p-2 flex-shrink-1 bd-highlight",children:Object(C.jsx)("span",{children:"".concat(t,"%")})})]})},K=function(e){var t=e.period,n=e.dateStart,c=e.dateEnd;return Object(C.jsxs)("div",{className:"d-flex flex-column bd-highlight align-items-center",children:[Object(C.jsx)("div",{className:"bd-highlight",children:Object(C.jsx)("span",{className:"small text-danger",children:t})}),Object(C.jsx)("div",{className:" bd-highlight",children:Object(C.jsxs)("div",{className:"d-flex flex-row bd-highlight ",children:[Object(C.jsx)("div",{className:" p-1 bd-highlight",children:Object(C.jsx)("span",{className:"small text-success",children:n})}),Object(C.jsx)("div",{className:" p-1 bd-highlight",children:Object(C.jsxs)("span",{className:"small text-success",children:[c," "]})})]})})]})},R=function(e){var t=e.titleEntry;return Object(C.jsx)("div",{className:"p-2 flex-fill bd-highlight",children:Object(C.jsxs)("p",{className:"text-secondary fw-bold",children:[Object(C.jsx)("i",{className:"bi bi-chevron-double-right"}),t]})})},I=(n(28),function(e){var t=e.children,n=e.isOpen,c=e.closeModal;return Object(C.jsx)("article",{className:"modals ".concat(n&&"is-open"),onClick:c,children:Object(C.jsxs)("div",{className:"modals-containers",onClick:function(e){return e.stopPropagation()},children:[Object(C.jsx)("button",{className:"modals-close btn btn-danger small",onClick:c,children:"X"}),t,Object(C.jsx)("hr",{})]})})}),Q=function(e){var t=e.id,n=e.closeModal,c=Object(r.b)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h3",{className:"text-info",children:"Atenci\xf3n"}),Object(C.jsx)("p",{className:"text-lg-center",children:"Desea elminar el registro seleccionado? "}),Object(C.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(C.jsx)("button",{onClick:function(){c(function(e){return function(t){t(v(e)),setTimeout((function(){t(x())}),100)}}(t)),n()},className:"btn btn-outline-danger",children:"Confirmar"}),Object(C.jsx)("button",{className:"btn btn-outline-warning",onClick:n,children:"Cancelar"})]})]})},P=n(10),_=n(3),A=function(e){var t=e.closeModal,n=Object(r.b)(),a=Object(r.c)((function(e){return e.data})).activeKey,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(E.a)(t,2),a=n[0],s=n[1],r=function(){s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e)},i=function(e){var t=e.target;s(Object(_.a)(Object(_.a)({},a),{},Object(P.a)({},t.name,t.value)))};return[a,i,r]}(a),i=Object(E.a)(s,3),l=i[0],o=i[1],d=i[2],j=l.name,b=l.complete;Object(c.useEffect)((function(){0!==a.id?d(a):d()}),[a]);return Object(C.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),j.trim().length<10?(alert("Error en el objeto nombre key result"),!1):parseInt(b)<0||parseInt(b)>100?(alert("Error en el porcentage de tarea"),!1):(n((c=l,function(e){c.complete=parseInt(c.complete),0!==c.id?e(g(c)):(c.id=Date.now()+"KR",c.date={start:"2022-09-01",end:"2020-11-30"},c.period="Q3-2022",e(p(c))),setTimeout((function(){e(x())}),100)})),d(),void t());var c},children:[Object(C.jsxs)("h3",{className:"text-info",children:[0!==a.id?"Editar":"Agregar"," Key Result"]}),Object(C.jsx)("div",{className:"row mb-3 mt-3",children:Object(C.jsx)("div",{className:"col-sm-12 w-100",children:Object(C.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Key Result",required:!0,name:"name",value:j,onChange:o})})}),Object(C.jsx)("div",{className:"row mb-3",children:Object(C.jsx)("div",{className:"col-sm-12",children:Object(C.jsx)("input",{type:"number",className:"form-control-sm form-control",required:!0,placeholder:"Complete %",name:"complete",value:b,onChange:o})})}),Object(C.jsx)("div",{className:"d-flex justify-content-evenly",children:Object(C.jsx)("button",{className:"btn btn-primary ",children:"Confirmar"})})]})},T=(n(29),function(){var e=Object(r.c)((function(e){return e.data})).keyresults,t=S(!1),n=Object(E.a)(t,3),a=n[0],s=n[1],i=n[2],l=S(!1),o=Object(E.a)(l,3),d=o[0],j=o[1],b=o[2],u=Object(c.useState)(!1),m=Object(E.a)(u,2),h=m[0],O=m[1],p=Object(c.useState)(""),f=Object(E.a)(p,2),x=f[0],v=f[1],g=Object(r.b)(),y=function(e){v(e),s()},k=function(e){g(function(e){return function(t,n){var c=n().data.keyresults.filter((function(t){return t.id===e}));t(N(c[0]))}}(e)),j()},w=function(){O(!0)},P=function(){O(!1)};return Object(C.jsxs)(C.Fragment,{children:[e.map((function(e){return Object(C.jsxs)("div",{className:"row m-2 onHoverRow",onMouseOver:w,onMouseLeave:P,children:[Object(C.jsxs)("div",{className:"col-5",children:[Object(C.jsx)(R,{titleEntry:e.name}),e.task&&e.task.map((function(e){return Object(C.jsxs)("span",{children:[" ",e.name]},e.id)}))]}),Object(C.jsx)("div",{className:"col-2 small",children:Object(C.jsx)(K,{period:e.period,dateStart:e.date.start,dateEnd:e.date.end})}),Object(C.jsx)("div",{className:"col-5",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-9 m-0 p-0",children:Object(C.jsx)("div",{className:"p-2 flex-fill bd-highlight",children:Object(C.jsx)(M,{avance:e.complete})})}),Object(C.jsx)("div",{className:"col-3 m-0 p-0 ".concat(!h&&"d-none"),children:Object(C.jsx)("div",{className:"p-2 flex-fill bd-highlight",children:Object(C.jsx)(D,{id:e.id,handleDelete:y,handleEdit:k})})})]})})]},e.id)})),Object(C.jsx)("div",{className:"d-flex justify-content-center pb-2 ",children:Object(C.jsxs)("span",{className:"small mt-2 text-info",children:[Object(C.jsx)("i",{className:"bi bi-plus-circle btn ",onClick:function(){j()}}),"Add new"]})}),Object(C.jsx)(I,{isOpen:a,closeModal:i,children:Object(C.jsx)(Q,{id:x,closeModal:i})}),Object(C.jsx)(I,{id:x,isOpen:d,closeModal:b,children:Object(C.jsx)(A,{closeModal:b})})]})}),G=function(e){var t=e.objetivo,n=e.period,c=e.dateStart,a=e.dateEnd,s=Object(r.c)((function(e){return e.data})).porcentajeGeneral;return Object(C.jsxs)("div",{className:"row mt-5 p-3",children:[Object(C.jsx)("div",{className:"col-5",children:Object(C.jsx)(R,{titleEntry:t})}),Object(C.jsx)("div",{className:"col-2",children:Object(C.jsx)(K,{period:n,dateStart:c,dateEnd:a})}),Object(C.jsx)("div",{className:"col-5",children:Object(C.jsx)(M,{avance:s})})]})},q=function(){var e=Object(r.b)();return Object(c.useEffect)((function(){var t=w[0].keyResults;e(function(e){return function(t){e.forEach((function(e){t(p(e))})),setTimeout((function(){t(x())}),100)}}(t))}),[e]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(G,{objetivo:w[0].objetive,period:w[0].period,dateStart:w[0].date.start,dateEnd:w[0].date.end}),Object(C.jsx)(T,{})]})},F=n(7),J=n(16),L=n(17),X={keyresults:[],porcentajeGeneral:"",activeKey:{name:"",id:0,complete:""}},U="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,z=Object(F.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(_.a)(Object(_.a)({},e),{},{keyresults:[].concat(Object(L.a)(e.keyresults),[t.payload])});case b:return Object(_.a)(Object(_.a)({},e),{},{keyresults:e.keyresults.filter((function(e){return e.id!==t.payload}))});case u:return Object(_.a)(Object(_.a)({},e),{},{porcentajeGeneral:t.payload});case m:return Object(_.a)(Object(_.a)({},e),{},{activeKey:t.payload});case h:return Object(_.a)(Object(_.a)({},e),{},{activeKey:{name:"",id:0,complete:""}});case O:return Object(_.a)(Object(_.a)({},e),{},{keyresults:e.keyresults.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}}}),B=Object(F.d)(z,U(Object(F.a)(J.a)));var H=function(){return Object(C.jsx)(r.a,{store:B,children:Object(C.jsx)("div",{className:"container ",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12",children:Object(C.jsx)("div",{className:"boder bg-light",children:Object(C.jsx)(q,{})})})})})})};s.a.render(Object(C.jsx)(H,{}),document.getElementById("root"))},5:function(e){e.exports=JSON.parse('[{"id":"obj001","objetive":"Incrementar las ventas del producto estrella","period":"Q3-2022","date":{"start":"2022-09-01","end":"2020-11-30"},"responsable":{"name":"QP","urlImage":""},"keyResults":[{"id":"krs001","name":"Obtener un crecimiento del 50% en la p\xe1gina web.","period":"Q3-2022","date":{"start":"2022-09-01","end":"2020-11-30"},"responsable":{"name":"QP","urlImage":""},"complete":10,"tasks":[{"id":"tsk001","name":"Mejorar el SEO de la p\xe1gina web."}]},{"id":"krs002","name":"Realizar cambio del Packaging de 2/4 presentaciones","period":"Q3-2022","date":{"start":"2022-09-01","end":"2020-11-30"},"responsable":{"name":"QP","urlImage":""},"complete":0,"tasks":[]},{"id":"krs003","name":"Crear campa\xf1a de marketing","period":"Q3-2022","date":{"start":"2022-09-01","end":"2020-11-30"},"responsable":{"name":"QP","urlImage":""},"complete":0,"tasks":[]}]}]')}},[[30,1,2]]]);
//# sourceMappingURL=main.77ccebb4.chunk.js.map